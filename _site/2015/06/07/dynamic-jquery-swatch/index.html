<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Dynamically change jQuery Mobile colour swatch.
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Shivam Verma" href="/atom.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68715317-1', 'auto');
  ga('send', 'pageview');

</script>
    <body>
    <a target="_blank" href="https://github.com/vshivam" class="github-corner">
	<svg width="100" height="100" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);">
		<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
		<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
		<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
		<text text-anchor="end" x="-45" y="25" transform="scale(-1, 1)rotate(-45)" font-size="30" font-weight="bold" class="github-corner-text">Fork me on Github</text>
	</svg>
</a>


<style>
.github-corner:hover .octo-arm {
    animation: octocat-wave 560ms ease-in-out
}
@keyframes octocat-wave {
    0%, 100% {
        transform: rotate(0)
    }
    20%,
    60% {
        transform: rotate(-25deg)
    }
    40%,
    80% {
        transform: rotate(10deg)
    }
}
@media (max-width: 500px) {
    .github-corner:hover .octo-arm {
        animation: none
    }
    .github-corner .octo-arm {
        animation: octocat-wave 560ms ease-in-out
    }
    .github-corner-text{
    	display: none;
    }
    .github-corner svg {
    	height: 50px;
    	width: 50px;
    }
}
</style>



    <div class="container content">
      <header class="masthead">
        <center>
          <h2 class="masthead-title">
            <a href="http://vshivam.github.io">Shivam Verma</a>
            <br/>
            
              &nbsp;&nbsp;&nbsp;
             <small> <a href="/index.html">Blog</a> </small>
            
              &nbsp;&nbsp;&nbsp;
             <small> <a href="/portfolio">Portfolio</a> </small>
            
              &nbsp;&nbsp;&nbsp;
             <small> <a href="/about">About Me / Contact</a> </small>
            
              &nbsp;&nbsp;&nbsp;
             <small> <a href="/atom.xml">Feed</a> </small>
            
          </h3>
        </center>

      </header>

      <main>
        <article class="post">
  <h1 class="post-title">Dynamically change jQuery Mobile colour swatch.</h1>
  <time datetime="2015-06-07T00:00:00+08:00" class="post-date">07 Jun 2015</time>
  <p>There’s no easy way to be able to switch the jQuery Mobile colour swatch dynamically for the whole page. A quick google search suggests <a href="http://stackoverflow.com/questions/7347664/change-jquery-mobile-color-swatch-dynamically" target="_blank">this</a> stackoverflow question where the accepted answer suggests removing and adding relevant classes for the required colour swatch.</p>

<p>For instance :</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-body-'</span> <span class="o">+</span> <span class="nx">currentTheme</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'ui-body-'</span> <span class="o">+</span> <span class="nx">currentTheme</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'ui-body-'</span> <span class="o">+</span> <span class="nx">selectedTheme</span><span class="p">);</span>    
<span class="p">});</span></code></pre></figure>

<p>There are a bunch of other elements that you’ll need to update as mentioned in the answer. It seems to work! But I am not too sure if this approach will cover all jQM supported elements.</p>

<p>I found another (hacky?) way which works and should cover each and every jQM supported element.</p>

<p>The straightforward way to apply a particular colour swatch is to use the data-theme attribute. So, to apply the colour swatch ‘a’ to a page :</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">data-role=</span><span class="s">"page"</span> <span class="na">data-theme=</span><span class="s">"a"</span><span class="nt">&gt;</span>
...
<span class="nt">&lt;/div&gt;</span></code></pre></figure>

<p>Now, to be able to switch themes, another approach would be to have two css stylesheets for the same colour swatch ‘a’ and we could just switch the stylesheet using js whenever we needed to change the theme. This’ll ensure that we do not need to update the class values for each element as mentioned in the stackoverflow answer since all properties for the theme ‘a’ are already applied to elements.</p>

<p>To generate these stylesheets we use the <a href="https://themeroller.jquerymobile.com/">themeroller</a>. In general, the themeroller is used to generate a stylesheet for different swatches (a, b, ..z) which could then be applied by setting the data-theme attribute. But in our case, we’ll use it generate two different stylesheets by the name ‘a’.</p>

<p>As an example, we’ll use the default stylesheet provided by jQM to generate a light and a dark theme. Here’s a short video tutorial about downloading the two stylesheets :</p>

<p align="center">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/f-aAeVrxc1I" frameborder="0" allowfullscreen=""></iframe>
</p>
<p>Now, let’s assume that we want to start with the light theme. So, we include the following in the head of the html page.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">id=</span><span class="s">"ui-stylesheet"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"css/light/themes/light.min.css"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">id=</span><span class="s">"icon-stylesheet"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"css/light/themes/jquery.mobile.icons.min.css"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css"</span> <span class="nt">/&gt;</span> </code></pre></figure>

<p>with the data-theme attribute set to ‘a’ for the page element.</p>

<p>Now, whenever you need to update the colour swatch :</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">$('#ui-stylesheet').attr(href:"css/dark/themes/dark.min.css");
$('#icon-stylesheet').attr(href:"css/dark/themes/jquery.mobile.icons.min.css");</code></pre></figure>

<p>Updating based on radio button selection :</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"theme-switch"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fieldset</span> <span class="na">data-role=</span><span class="s">"controlgroup"</span> <span class="na">data-type=</span><span class="s">"horizontal"</span> <span class="na">data-mini=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;legend&gt;</span>Select a Theme:<span class="nt">&lt;/legend&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">name=</span><span class="s">"theme-radio-btn"</span> <span class="na">id=</span><span class="s">"radio-choice-h-2a"</span> <span class="na">value=</span><span class="s">"light"</span> <span class="na">checked=</span><span class="s">"checked"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"radio-choice-h-2a"</span><span class="nt">&gt;</span>Light<span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">name=</span><span class="s">"theme-radio-btn"</span> <span class="na">id=</span><span class="s">"radio-choice-h-2b"</span> <span class="na">value=</span><span class="s">"dark"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"radio-choice-h-2b"</span><span class="nt">&gt;</span>Dark<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;/fieldset&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s2">"input:radio[name=theme-radio-btn]"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">theme_value</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">theme_value</span><span class="p">){</span>
        <span class="k">case</span> <span class="s2">"dark"</span><span class="err">:</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Setting dark theme"</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'#ui-stylesheet'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="nx">href</span><span class="err">:</span><span class="s2">"css/dark/themes/dark.min.css"</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'#icon-stylesheet'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="nx">href</span><span class="err">:</span><span class="s2">"css/dark/themes/jquery.mobile.icons.min.css"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"light"</span><span class="err">:</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Setting light theme"</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'#ui-stylesheet'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="nx">href</span><span class="err">:</span><span class="s2">"css/light/themes/light.min.css"</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'#icon-stylesheet'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="nx">href</span><span class="err">:</span><span class="s2">"css/light/themes/jquery.mobile.icons.min.css"</span><span class="p">);</span>   
            <span class="k">break</span><span class="p">;</span>            
    <span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<p>Hope this helps!</p>

</article>


<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2016/04/22/github-corner-text/">
            An even fresher 'Fork me on GitHub' callout !
            <small><time datetime="2016-04-22T00:00:00+08:00">22 Apr 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/04/20/fossasia-2016/">
            Speaking at FOSSAsia 2016.
            <small><time datetime="2016-04-20T00:00:00+08:00">20 Apr 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/03/30/unfollow-all-quora/">
            How to unfollow everyone on Quora, you ask ?
            <small><time datetime="2016-03-30T00:00:00+08:00">30 Mar 2016</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>


        
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'vshivam';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </main>

      <footer class="footer">
      <center> 
            <small>
              Made By Shivam Verma. <br/>Powered by Jekyll and 
              Github. Theme adapted from Poole.
            </small>
      </center>
          <!--
          &copy; 
          <time datetime="2016-11-10T16:53:03+08:00">2016</time>. All rights reserved.
          -->
        </small>
      </footer>
    </div>
  </body>
</html>
